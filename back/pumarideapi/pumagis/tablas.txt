------------------ CREATES ------------------

create table ruta (id_ruta integer primary key, puntos geography(LINESTRING,4326), modo integer);

create table horario_ruta (id_ruta integer references ruta(id_ruta), origen geography(POINT,4326), destino geography(POINT,4326), origen_hora timestamp, destino_hora timestamp);

------------------ INSERTS ------------------

insert into ruta values (1,ST_GeomFromText('LINESTRING(-99.1740833701 19.4099815771,-99.173744 19.410692,-99.173051 19.410357,-99.172879 19.410291,-99.172459 19.408575,-99.172249 19.407865,-99.172141 19.407371,-99.17188 19.406362,-99.171758 19.405788,-99.171378 19.40432,-99.171215 19.403536,-99.170856 19.402317,-99.170756 19.401949,-99.170427 19.400758,-99.170367 19.400507,-99.17025 19.400105,-99.170134 19.399697,-99.170422 19.399652,-99.170895 19.398399,-99.17129 19.397266,-99.17144 19.396841,-99.171629 19.396107,-99.1723 19.394076,-99.172671 19.392766,-99.172933 19.391969,-99.173054 19.391598,-99.173187 19.391205,-99.17336 19.390621,-99.173529 19.390168,-99.173702 19.389663,-99.17382 19.389293,-99.173919 19.388942,-99.174103 19.38843,-99.174214 19.388143,-99.174908 19.38609,-99.175023 19.385645,-99.175196 19.385152,-99.17549 19.384392,-99.175907 19.383229,-99.176156 19.382384,-99.176353 19.381807,-99.176547 19.381217,-99.176737 19.380631,-99.176907 19.380086,-99.177275 19.378831,-99.17758 19.377934,-99.177919 19.376941,-99.178031 19.37661,-99.17838 19.37567,-99.178527 19.375143,-99.178978 19.373678,-99.179634 19.371586,-99.180112 19.370154,-99.180446 19.369099,-99.180924 19.36782,-99.18133 19.366414,-99.181485 19.365821,-99.181819 19.364867,-99.181986 19.364274,-99.182464 19.362716,-99.182782 19.362315,-99.182797 19.362135,-99.182911 19.361317,-99.183351 19.360143,-99.183805 19.35892,-99.184232 19.357428,-99.184718 19.356,-99.185181 19.354546,-99.185506 19.353475,-99.185629 19.35313,-99.185825 19.352291,-99.186104 19.351437,-99.186506 19.350316,-99.186779 19.34938,-99.187413 19.347381,-99.188239 19.345435,-99.188531 19.344515,-99.18863 19.344154,-99.189173 19.343663,-99.189671 19.34348,-99.190666 19.343175,-99.190806 19.342673,-99.190916 19.342353,-99.191655 19.339852,-99.191938 19.33874,-99.192449 19.337945,-99.193024 19.337186,-99.193046 19.33654,-99.192884 19.335361,-99.192523 19.334922,-99.191818 19.334823,-99.191449 19.334784,-99.191173 19.334824,-99.19118 19.333877,-99.192371 19.334082,-99.194341 19.333674,-99.194442 19.333626,-99.194609 19.333539,-99.194911 19.33337)',4326),1);

insert into ruta values (2,ST_GeomFromText('LINESTRING(-99.1733880813 19.424976535,-99.173708 19.425612,-99.175028 19.425006,-99.176374 19.424384,-99.175964 19.423582,-99.175666 19.423176,-99.175387 19.422726,-99.174599 19.421662,-99.174325 19.421298,-99.174102 19.420998,-99.173553 19.420255,-99.172886 19.419489,-99.172355 19.418691,-99.171302 19.41736,-99.17043 19.416262,-99.170109 19.415831,-99.170835 19.414836,-99.17171 19.413226,-99.172134 19.412349,-99.172364 19.411767,-99.172475 19.411506,-99.173051 19.410357,-99.172879 19.410291,-99.172459 19.408575,-99.172249 19.407865,-99.172141 19.407371,-99.17188 19.406362,-99.171758 19.405788,-99.171378 19.40432,-99.171215 19.403536,-99.170856 19.402317,-99.170756 19.401949,-99.170427 19.400758,-99.170367 19.400507,-99.17025 19.400105,-99.170134 19.399697,-99.170422 19.399652,-99.170895 19.398399,-99.17129 19.397266,-99.17144 19.396841,-99.171629 19.396107,-99.1723 19.394076,-99.172671 19.392766,-99.172933 19.391969,-99.173054 19.391598,-99.173187 19.391205,-99.17336 19.390621,-99.173529 19.390168,-99.173702 19.389663,-99.17382 19.389293,-99.173919 19.388942,-99.174103 19.38843,-99.174214 19.388143,-99.174908 19.38609,-99.175023 19.385645,-99.175196 19.385152,-99.17549 19.384392,-99.175907 19.383229,-99.176156 19.382384,-99.176353 19.381807,-99.176547 19.381217,-99.176737 19.380631,-99.176907 19.380086,-99.177275 19.378831,-99.17758 19.377934,-99.177919 19.376941,-99.178031 19.37661,-99.17838 19.37567,-99.178527 19.375143,-99.178978 19.373678,-99.179634 19.371586,-99.180112 19.370154,-99.180446 19.369099,-99.180924 19.36782,-99.18133 19.366414,-99.181485 19.365821,-99.181819 19.364867,-99.181986 19.364274,-99.182464 19.362716,-99.182782 19.362315,-99.182797 19.362135,-99.182911 19.361317,-99.183351 19.360143,-99.183805 19.35892,-99.184232 19.357428,-99.184718 19.356,-99.185181 19.354546,-99.185506 19.353475,-99.185629 19.35313,-99.185825 19.352291,-99.186104 19.351437,-99.186506 19.350316,-99.186779 19.34938,-99.187413 19.347381,-99.188239 19.345435,-99.188531 19.344515,-99.18863 19.344154,-99.189173 19.343663,-99.189671 19.34348)',4326),1);

insert into ruta values (4,ST_GeomFromText('LINESTRING(-99.1910544988 19.4872019245,-99.19111 19.486962,-99.191252 19.486512,-99.19103 19.486329,-99.190602 19.485991,-99.190174 19.48557,-99.189612 19.485021,-99.189674 19.484612,-99.189741 19.483842,-99.189754 19.483124,-99.189902 19.481732,-99.189948 19.48088,-99.191339 19.480486,-99.192179 19.480405,-99.192191 19.480131,-99.192487 19.479443,-99.192893 19.478226,-99.193045 19.477624,-99.195188 19.476373,-99.195934 19.475929,-99.196258 19.475786,-99.197116 19.475315,-99.197718 19.474971,-99.19807 19.474766,-99.198521 19.474598,-99.198953 19.474445,-99.199359 19.474262,-99.199485 19.47419,-99.199915 19.47405,-99.200133 19.473985,-99.200402 19.47386,-99.200611 19.47328,-99.200862 19.473391,-99.202102 19.473054,-99.204282 19.472361,-99.205251 19.471952,-99.206709 19.471216,-99.207606 19.471463,-99.208065 19.471593,-99.208295 19.471654,-99.20842 19.471691,-99.208877 19.471824,-99.209477 19.471979,-99.210019 19.472114,-99.210647 19.472272,-99.211255 19.472434,-99.211901 19.472604,-99.212549 19.472772,-99.213185 19.472944,-99.213579 19.473049,-99.213809 19.473111,-99.214291 19.47325,-99.214414 19.473287,-99.214905 19.473427,-99.215056 19.473471,-99.215555 19.47361,-99.215906 19.473711,-99.216219 19.473792,-99.216915 19.473985,-99.217573 19.47416,-99.218211 19.474337,-99.218853 19.474511,-99.219534 19.474695,-99.220189 19.474872,-99.220619 19.474986,-99.220892 19.475058)',4326),1);

insert into ruta values (5,ST_GeomFromText('LINESTRING(-99.200240005 19.4993812803,-99.200112 19.499664,-99.200648 19.499777,-99.201232 19.499934,-99.202216 19.500202,-99.203713 19.501901,-99.204667 19.501908,-99.204948 19.501842,-99.205217 19.501648,-99.205961 19.501133,-99.206037 19.50083,-99.206088 19.500629,-99.212404 19.502453,-99.212837 19.500697,-99.213631 19.498329,-99.214116 19.496621,-99.214205 19.496229,-99.214347 19.495832,-99.214609 19.495075,-99.214811 19.494514,-99.215013 19.493937,-99.21531 19.49309,-99.215521 19.492301,-99.215728 19.491622,-99.216035 19.490676,-99.216283 19.489879,-99.216432 19.489477,-99.216548 19.489122,-99.216851 19.488239,-99.217106 19.487392,-99.217182 19.487181,-99.217258 19.486974,-99.218076 19.484675,-99.218199 19.484286,-99.218338 19.483706,-99.218489 19.483058,-99.218651 19.482663,-99.218793 19.482362,-99.219003 19.481832,-99.219321 19.480936,-99.219572 19.480017,-99.219758 19.479119,-99.220119 19.478123,-99.220457 19.476804,-99.220697 19.475872)',4326),1);

insert into horario_ruta values (1, ST_GeomFromText('POINT(-99.1739126 19.4099)'), ST_GeomFromText('POINT(-99.194836 19.3291184)'), ('2016-11-09 10:00:00'), ('2016-11-09 10:09:00'));

insert into horario_ruta values (2, ST_GeomFromText('POINT(-99.1732938 19.425024)'), ST_GeomFromText('POINT(-99.194836 19.3291184)'), ('2016-11-09 10:10:00'), ('2016-11-09 10:19:00'));

insert into horario_ruta values (4, ST_GeomFromText('POINT(-99.191258 19.487249)'), ST_GeomFromText('POINT(-99.247098 19.481647)'), ('2016-11-09 01:00:00'), ('2016-11-11 01:40:00'));

insert into horario_ruta values (5, ST_GeomFromText('POINT(-99.200447 19.499475)'), ST_GeomFromText('POINT(-99.247098 19.481647)'), ('2016-11-11 01:15:00'), ('2016-11-11 01:55:00'));